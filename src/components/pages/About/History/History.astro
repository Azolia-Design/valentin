---
import TextTransClip from '~/components/common/TextTransClip';
import Arrows from "~/components/common/Arrows.astro";
import HistoryScript  from './script';
import HistoryListing from './HistoryListing';
const data = [
    {
        position: { title: 'Lead Product Designer',  type: 'Contract' },
        company: { name: 'Tyme', location: 'Tokyo, Japan'},
        period: { from: 'Oct, 2019', to: 'Sep, 2020' }
    },
    {
        position: { title: 'Lead Product Designer',  type: 'Contract' },
        company: { name: 'Tyme', location: 'Tokyo, Japan'},
        period: { from: 'Sep, 2020', to: 'Oct, 2021' }
    },
    {
        position: { title: 'Lead Product Designer',  type: 'Fulltime' },
        company: { name: 'Tyme', location: 'HCMC, Vietnam'},
        period: { from: 'Oct, 2021', to: 'Aug, 2023' }
    },
    {
        position: { title: 'Lead Product Designer',  type: 'Contract' },
        company: { name: 'BitMEX', location: 'Singapore'},
        period: { from: 'Aug, 2023', to: 'May, 2024' }
    },
    {
        position: { title: 'Head of Design & Brand',  type: 'Contract' },
        company: { name: 'BitMEX', location: 'Singapore'},
        period: { from: 'May, 2015', to: 'Present' }
    }
]
---
<section class="sc-about__history">
    <div class="about__history">
        <HistoryScript client:visible={{ rootMargin: "100% 0% 100% 0%" }}/>
        <div class="about__history-head">
            <div class="container grid">
                <h2 class="upper fix-font about__history-title grid">
                    <span class="heading h2 fw-bold about__history-title-txt">
                        <TextTransClip client:visible={{ rootMargin: "100% 0% 100% 0%" }}>I have</TextTransClip>
                    </span>
                    <span class="heading h2 fw-bold cl-txt-orange about__history-title-txt">
                        <TextTransClip client:visible={{ rootMargin: "100% 0% 100% 0%" }}>8 years</TextTransClip>
                    </span>
                    <span class="heading h2 fw-bold about__history-title-txt">
                        <TextTransClip client:visible={{ rootMargin: "100% 0% 100% 0%" }}>of Experience</TextTransClip>
                    </span>
                    <span class="heading h2 fw-bold about__history-title-txt">
                        <TextTransClip client:visible={{ rootMargin: "100% 0% 100% 0%" }}>in <span class="cl-txt-title">fintech</span></TextTransClip>
                    </span>
                    <span class="heading h2 fw-bold about__history-title-txt">
                        <TextTransClip client:visible={{ rootMargin: "100% 0% 100% 0%" }}>field</TextTransClip>
                    </span>
                </h2>
                <span class="fs-20 cl-txt-desc fw-reg upper about__history-label">(History)</span>
                <div class="about__history-sub cl-txt-desc sub-1">
                    <span class="line"></span>
                    <p>With many years of experience in designing digital products in the fintech sector, I have a deep understanding of user needs and a knack for innovative creativity.</p>
                </div>
                <p class="about__history-sub cl-txt-desc sub-2">By choosing me, your company will benefit from intuitive, effective design solutions that are always up-to-date with the latest trends.</p>
                <a href="#" class="cl-txt-orange arrow-hover about__history-link">
                    <span class="txt-link fs-20 fw-med cl-txt-orange">Let's talk</span>
                    <Arrows  />
                </a>
            </div>
        </div>
        <div class="about__history-body">
            <div class="container grid">
                <HistoryListing data={data} client:visible={{ rootMargin: "100% 0% 100% 0%" }}>
            </div>
        </div>
    </div>
</section>

<style lang="scss" is:global>
    .about__history {
        position: relative;
        z-index: 3;
        background-color: var(--cl-dm-bg);
        padding-block: 16rem;
        &-head {
            margin-bottom: 11.2rem;
        }
        &-label {
            grid-column: 1/3;
            grid-row: 1/2;
        }
        &-title {
            position: relative;
            grid-column: 1/-1;
            grid-row: 1/2;
            &-txt {
                line-height: .835em;
                &:nth-child(1) {
                    grid-column: 4/10;
                    grid-row: 1/2;
                }
                &:nth-child(2) {
                    grid-column: 4/17;
                }
                &:nth-child(3) {
                    grid-column: 4/17;
                }
                &:nth-child(4) {
                    grid-column: 8/17;
                }
                &:nth-child(5) {
                    grid-column: 8/13;
                }
            }
        }
        &-sub {
            &.sub-1 {
                grid-column: 14/17;
                grid-row: 1/2;
                justify-self: end;

                max-width: 28.3rem;
                position: relative;
                padding-top: 3.2rem;
                .line {
                    position: absolute;
                    top: 0;
                }
            }
            &.sub-2 {
                grid-row: 1/2;
                grid-column: 5/8;
                align-self: end;

                max-width: 22rem;
            }
        }
        &-link {
            grid-column: -3/-1;
            grid-row: 1/2;
            align-self: end;
            justify-self: end;

            display: flex;
            align-items: center;
            column-gap: .6rem;
        }
        &-body {
            overflow: hidden;
        }
        &-listing {
            grid-column: 4/-2;
            padding-top: 3rem;
            overflow: visible;
            // margin-right: -2rem;
        }
        &-item {
            position: relative;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0 var(--grid-gap);
            height: auto;

            border-style: none none none solid;
            border-width: 0 0 0 1px;
            border-image: linear-gradient(rgba(255, 255, 255, 0) 0%,rgba(255, 255, 255, .1) 100%) 1 100%;

            padding-bottom: 10rem;
            transition: color .4s ease-in-out;

            &:hover {
                color: var(--cl-dm-title);
            }

            .ruler-x {
                position: absolute;
                bottom: 1px;
                width: calc(100% + var(--grid-gap));

                display: flex;
                align-items: end;
                justify-content: space-evenly;
                li {
                    width: 1px;
                    height: 2rem;
                    background-color: var(--cl-dm-border);
                    &:nth-child(7) {
                        height: 5.2rem;
                    }
                }
            }
            .line {
                position: absolute;
                bottom: 0;
                width: calc(100% + var(--grid-gap));
            }
            &-content {
                grid-column: 2/4;
            }
            &-position,
            &-company,
            &-period {
                display: flex;
                flex-direction: column;
            }
            &-position {
                gap: 1rem;
                margin-bottom: 6rem;
            }
            &-period {
                margin-top: 7.8rem;
            }
        }
    }
</style>